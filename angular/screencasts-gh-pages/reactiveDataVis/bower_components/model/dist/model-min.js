define("model/model",[],function(){function n(n){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,n()},0))}}function t(n){return!n.some(function(n){return"undefined"==typeof n||null===n})}return function(){function e(e,r,o){var u=n(function(){var n=e.map(function(n){return m[n]});t(n)&&(a&&(f={}),r.apply(o,n),a&&a(e))});return u(),e.forEach(function(n){d[n]||(d[n]=[]),d[n].push(u)}),u}function r(n){p[n]||(p[n]=!0,m[n]=s[n],Object.defineProperty(s,n,{get:function(){return m[n]},set:function(t){f&&(f[n]=!0),m[n]=t,d[n]&&d[n].forEach(function(n){n()})}}))}function o(n,t,o){return n instanceof Array||(n=[n]),n.forEach(r),e(n,t,o)}function u(n){Object.keys(d).forEach(function(t){d[t]=d[t].filter(function(t){return t!==n})})}function c(n){Object.keys(n).forEach(function(t){s[t]=n[t]})}function i(n,t){function e(n){return o[n]||(o[n]={type:"property",name:n})}function r(n,t){return n.join(",")+"|"+t.join(",")}var o={},u=[];t=t||50,a=function(n){var t=Object.keys(f),c=r(n,t),i=o[c];!i&&t.length>0&&(i=o[c]={type:"lambda"},n.forEach(function(n){u.push({source:e(n),target:i})}),t.forEach(function(n){u.push({source:i,target:e(n)})}))},setTimeout(function(){n({nodes:Object.keys(o).map(function(n,t){var e=o[n];return e.index=t,e}),links:u.map(function(n){return{source:n.source.index,target:n.target.index}})})},t)}var f,a,s,d={},p={},m={};return s=Object.create({when:o,removeListener:u,set:c,detectFlowGraph:i})}}),define("model",["model/model"],function(n){return n});