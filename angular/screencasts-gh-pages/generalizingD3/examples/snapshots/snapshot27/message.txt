Modifying when() to accept a 'this' argument
